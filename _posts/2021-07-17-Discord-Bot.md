---
layout: post
title: "Discord Bot"
date: 2021-07-17 18:00:00
categories: jekyll update
permalink: /archivers/Discord Bot
---

# 디스코드봇 일지
파이썬으로 디스코드 음악 봇 만들기.

## 0일차(1일차부터 기록 시작함)
1. 디스코드봇을 만들고 필요한 오픈소스들을 다운받음.
2. 디스코드에서 **!음악 "검색어"** 를 통해 유튜브에 "검색어"를 쳤을때 나오는 영상의 주소를 얻어오는 코드를 작성함.
3. 영상의 주소를 통해 해당 주소의영상을 다운받는 코드를 작성함. ( **!음악선택 "숫자"** )
4. 영상을 mp3로 바꾸는 코드를 작성함.

### pip 모듈
```python
pip install PyNaCl #음성기능
pip install -U discord #디스코드
pip install ffmpeg #영상을 mp3로 변환
pip install google-api-python-client #유튜브 api
pip install youtube-dl #유튜브영상 다운
```

## 1일차
1. 영상의 주소를 얻어올때 조회수가 높은 순으로 5개만 얻어오게 코드를 수정함.
2. 영상을 mp3로 바꿀때 이미 다운받았던 mp3가 있다면 기존의 mp3를 지우고 새로운 mp3를 다운받게 코드를 수정함.

## 2일차
1. client방법의 어려움을 느낌.
2. client방법에서 ext방법으로 바꾸기로함.

## 3일차
1. client방법에서 ext방법으로 바꿈.
2. 음성채널에 봇을 입장,퇴장 시키는 코드를 작성함. ( **!들어와** , **!나가** )
3. 디스코드기능class의 필요성을 느낌.

## 4일차
1. 디스코드기능class를 만들음.
2. 플레이리스트 만드는도중에 이해가 안되는 부분이 생김.
3. 다른것부터 코드짤 예정.

## 5일차
1. ffmpeg에서 오류가남.

## 6일차
1. ffmpeg오류 해결함.
2. 4일차때 이해가 안되던부분 이해됨.

## 7일차
1. 음악을 재생하는 코드 작성함. ( **!음악재생** )
2. 다운되는 음악파일 이름이 노래이름으로 저장되게 코드를 수정함.
3. **!음악검색 "검색어"** 를했을때 사이트주소가 아닌 노래이름이 나오도록 코드를 수정함.
4. **!플레이리스트** , **!플레이리스트초기화** 코드를 작성함.

## 8일차
1. 영상다운을 안하고 실시간으로 음악이 재생되게 코드를 수정함.
2. **!음악재생**,영상다운로드후 mp3로 바꾸는 코드 삭제함.
3. 플레이리스트에있는 음악들을 재생하는 코드 작성중.
4. 모든 기능들의 수정할부분들을 수정하고있음.

## 9일차
1. 음악봇의 기본적인 기능들을 완성한 것 같음.
