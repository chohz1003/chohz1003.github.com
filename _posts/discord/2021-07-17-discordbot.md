---
layout: post
title: "Discord Bot"
date: 2021-07-17 18:00:00
categories: jekyll update
permalink: /archivers/discordbot
---

# 디스코드봇 일지
파이썬으로 디스코드 음악 봇 만들기.

## 0일차(1일차부터 기록 시작함)
1. 디스코드봇을 만들고 필요한 오픈소스들을 다운받음.
2. 디스코드에서 **!음악 "검색어"** 를 통해 유튜브에 "검색어"를 쳤을때 나오는 영상의 주소를 얻어오는 코드를 작성함.
3. 영상의 주소를 통해 해당 주소의영상을 다운받는 코드를 작성함. ( **!음악선택 "숫자"** )
4. 영상을 mp3로 바꾸는 코드를 작성함.

### pip 모듈
```python
pip install PyNaCl 
pip install -U discord 
pip install google-api-python-client 
pip install youtube-dl 
pip install dislash.py
pip install asyncio
```

## 1일차
1. 영상의 주소를 얻어올때 조회수가 높은 순으로 5개만 얻어오게 코드를 수정함.
2. 영상을 mp3로 바꿀때 이미 다운받았던 mp3가 있다면 기존의 mp3를 지우고 새로운 mp3를 다운받게 코드를 수정함.

## 2일차
1. client방법의 어려움을 느낌.
2. client방법에서 ext방법으로 바꾸기로함.

## 3일차
1. client방법에서 ext방법으로 바꿈.
2. 음성채널에 봇을 입장,퇴장 시키는 코드를 작성함. ( **!들어와** , **!나가** )
3. 디스코드기능class의 필요성을 느낌.

## 4일차
1. 디스코드기능class를 만들음.
2. 플레이리스트 만드는도중에 이해가 안되는 부분이 생김.
3. 다른것부터 코드짤 예정.

## 5일차
1. ffmpeg에서 오류가남.

## 6일차
1. ffmpeg오류 해결함.
2. 4일차때 이해가 안되던부분 이해됨.

## 7일차
1. 음악을 재생하는 코드 작성함. ( **!음악재생** )
2. 다운되는 음악파일 이름이 노래이름으로 저장되게 코드를 수정함.
3. **!음악검색 "검색어"** 를했을때 사이트주소가 아닌 노래이름이 나오도록 코드를 수정함.
4. **!플레이리스트** , **!플레이리스트초기화** 코드를 작성함.

## 8일차
1. 영상다운을 안하고 실시간으로 음악이 재생되게 코드를 수정함.
2. **!음악재생**,영상다운로드후 mp3로 바꾸는 코드 삭제함.
3. 플레이리스트에있는 음악들을 재생하는 코드 작성중.
4. 모든 기능들의 수정할부분들을 수정하고있음.

## 9일차
1. 음악봇의 기본적인 기능들을 완성한 것 같음.

## 10일차
1. 명령어가아닌 버튼으로 기능들이 작동할수있게 코드 수정중.

## 11일차
1. 버튼기능 코드 작성함.
2. 오류나는부분 수정해야함.

## 12~14일차
1. 수정할부분 수정하는중.
2. 미완성 기능들은 나중에 공부하고 완성하기로함.

## 후기
파이썬으로 디스코드봇을 만들었다. 파이썬은 ext방법과 Client방법으로 나뉘는데 구글링을 하면 대부분 ext방법을 사용하는 사람이 많기때문에 Client방법보다 ext방법이 더 만들기 쉽다고생각했다. 나도 처음에 Client방법을 사용했었는데 모르는것을 구글링할때 어려움을 겪고 ext방법으로 바꾸었다. 디스코드봇을 만들면서 어려움을 많이겪었는데 가장 어려움을 겪었던것은 구글링이었던 것 같다. 아무래도 여러가지 정보와 오픈소스들이 필요하기때문에 구글링을 많이했었는데 필요한부분을 찾는것도 어려웠지만 필요한부분을 사용하는것도 만만치 않았다. 그리고 class를 사용해서 여러가지 정보를 엮는 과정에서도 어려움을 느꼈지만 이번기회에 class에대해 공부가 많이 된것같아서 좋은 시간이었던 것 같다.

## 전체코드위치
https://github.com/chohz1003/chohz1003.github.com/blob/master/_posts/discord/2021-08-15-DiscordBot-Code.md
https://github.com/chohz1003/chohz1003.github.com/blob/master/_posts/discord/2021-08-15-DiscordBot-ClassCode.md
